shadow$provide.module$node_modules$hash_base$node_modules$readable_stream$lib$_stream_transform=function(global,require,module,exports){function afterTransform(er,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(null===cb)return this.emit("error",new ERR_MULTIPLE_CALLBACK);ts.writechunk=null;ts.writecb=null;null!=data&&this.push(data);cb(er);er=this._readableState;er.reading=!1;(er.needReadable||er.length<er.highWaterMark)&&this._read(er.highWaterMark)}function Transform(options){if(!(this instanceof
Transform))return new Transform(options);Duplex.call(this,options);this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=!0;this._readableState.sync=!1;options&&("function"===typeof options.transform&&(this._transform=options.transform),"function"===typeof options.flush&&(this._flush=options.flush));this.on("prefinish",prefinish)}function prefinish(){var _this=this;"function"!==
typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush(function(er,data){done(_this,er,data)})}function done(stream,er,data){if(er)return stream.emit("error",er);null!=data&&stream.push(data);if(stream._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(stream._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return stream.push(null)}module.exports=Transform;global=require("module$node_modules$hash_base$node_modules$readable_stream$errors").codes;
var ERR_METHOD_NOT_IMPLEMENTED=global.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=global.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=global.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=global.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require("module$node_modules$hash_base$node_modules$readable_stream$lib$_stream_duplex");require("module$node_modules$inherits$inherits_browser")(Transform,Duplex);Transform.prototype.push=function(chunk,encoding){this._transformState.needTransform=
!1;return Duplex.prototype.push.call(this,chunk,encoding)};Transform.prototype._transform=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;ts.writecb=cb;ts.writechunk=chunk;ts.writeencoding=encoding;ts.transforming||(chunk=this._readableState,(ts.needTransform||chunk.needReadable||chunk.length<chunk.highWaterMark)&&this._read(chunk.highWaterMark))};Transform.prototype._read=function(n){n=
this._transformState;null===n.writechunk||n.transforming?n.needTransform=!0:(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform))};Transform.prototype._destroy=function(err,cb){Duplex.prototype._destroy.call(this,err,function(err2){cb(err2)})}}
//# sourceMappingURL=module$node_modules$hash_base$node_modules$readable_stream$lib$_stream_transform.js.map
