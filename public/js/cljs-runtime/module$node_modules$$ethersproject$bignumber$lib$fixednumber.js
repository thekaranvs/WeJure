shadow$provide.module$node_modules$$ethersproject$bignumber$lib$fixednumber=function(global,require,module,exports){function throwFault(message,fault,operation,value){fault={fault,operation};void 0!==value&&(fault.value=value);return logger.throwError(message,logger_1.Logger.errors.NUMERIC_FAULT,fault)}function getMultiplier(decimals){if("number"!==typeof decimals)try{decimals=bignumber_1.BigNumber.from(decimals).toNumber()}catch(e){}return"number"===typeof decimals&&0<=decimals&&256>=decimals&&!(decimals%
1)?"1"+zeros.substring(0,decimals):logger.throwArgumentError("invalid decimal size","decimals",decimals)}function formatFixed(value,decimals){null==decimals&&(decimals=0);decimals=getMultiplier(decimals);value=bignumber_1.BigNumber.from(value);var negative=value.lt(Zero);negative&&(value=value.mul(NegativeOne));for(var fraction=value.mod(decimals).toString();fraction.length<decimals.length-1;)fraction="0"+fraction;fraction=fraction.match(/^([0-9]*[1-9]|0)(0*)/)[1];value=value.div(decimals).toString();
value=1===decimals.length?value:value+"."+fraction;negative&&(value="-"+value);return value}function parseFixed(value,decimals){null==decimals&&(decimals=0);var multiplier=getMultiplier(decimals);"string"===typeof value&&value.match(/^-?[0-9.]+$/)||logger.throwArgumentError("invalid decimal value","value",value);(decimals="-"===value.substring(0,1))&&(value=value.substring(1));"."===value&&logger.throwArgumentError("missing value","value",value);var comps=value.split(".");2<comps.length&&logger.throwArgumentError("too many decimal points",
"value",value);value=comps[0];comps=comps[1];value||(value="0");for(comps||(comps="0");"0"===comps[comps.length-1];)comps=comps.substring(0,comps.length-1);comps.length>multiplier.length-1&&throwFault("fractional component exceeds decimals","underflow","parseFixed");for(""===comps&&(comps="0");comps.length<multiplier.length-1;)comps+="0";value=bignumber_1.BigNumber.from(value);comps=bignumber_1.BigNumber.from(comps);multiplier=value.mul(multiplier).add(comps);decimals&&(multiplier=multiplier.mul(NegativeOne));
return multiplier}Object.defineProperty(exports,"__esModule",{value:!0});exports.FixedNumber=exports.FixedFormat=exports.parseFixed=exports.formatFixed=void 0;var bytes_1=require("module$node_modules$$ethersproject$bytes$lib$index"),logger_1=require("module$node_modules$$ethersproject$logger$lib$index");global=require("module$node_modules$$ethersproject$bignumber$lib$_version");for(var logger=new logger_1.Logger(global.version),bignumber_1=require("module$node_modules$$ethersproject$bignumber$lib$bignumber"),
_constructorGuard={},Zero=bignumber_1.BigNumber.from(0),NegativeOne=bignumber_1.BigNumber.from(-1),zeros="0";256>zeros.length;)zeros+=zeros;exports.formatFixed=formatFixed;exports.parseFixed=parseFixed;var FixedFormat=function(){function FixedFormat(constructorGuard,signed,width,decimals){constructorGuard!==_constructorGuard&&logger.throwError("cannot use FixedFormat constructor; use FixedFormat.from",logger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"});this.signed=signed;this.width=
width;this.decimals=decimals;this.name=(signed?"":"u")+"fixed"+String(width)+"x"+String(decimals);this._multiplier=getMultiplier(decimals);Object.freeze(this)}FixedFormat.from=function(value){if(value instanceof FixedFormat)return value;"number"===typeof value&&(value="fixed128x"+value);var signed=!0,width=128,decimals=18;if("string"===typeof value)"fixed"!==value&&("ufixed"===value?signed=!1:((decimals=value.match(/^(u?)fixed([0-9]+)x([0-9]+)$/))||logger.throwArgumentError("invalid fixed format",
"format",value),signed="u"!==decimals[1],width=parseInt(decimals[2]),decimals=parseInt(decimals[3])));else if(value){var check=function(key,type,defaultValue){if(null==value[key])return defaultValue;typeof value[key]!==type&&logger.throwArgumentError("invalid fixed format ("+key+" not "+type+")","format."+key,value[key]);return value[key]};signed=check("signed","boolean",signed);width=check("width","number",width);decimals=check("decimals","number",decimals)}width%8&&logger.throwArgumentError("invalid fixed format width (not byte aligned)",
"format.width",width);80<decimals&&logger.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",decimals);return new FixedFormat(_constructorGuard,signed,width,decimals)};return FixedFormat}();exports.FixedFormat=FixedFormat;require=function(){function FixedNumber(constructorGuard,hex,value,format){logger.checkNew(this.constructor,FixedNumber);constructorGuard!==_constructorGuard&&logger.throwError("cannot use FixedNumber constructor; use FixedNumber.from",logger_1.Logger.errors.UNSUPPORTED_OPERATION,
{operation:"new FixedFormat"});this.format=format;this._hex=hex;this._value=value;this._isFixedNumber=!0;Object.freeze(this)}FixedNumber.prototype._checkFormat=function(other){this.format.name!==other.format.name&&logger.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",other)};FixedNumber.prototype.addUnsafe=function(other){this._checkFormat(other);var a=parseFixed(this._value,this.format.decimals);other=parseFixed(other._value,other.format.decimals);return FixedNumber.fromValue(a.add(other),
this.format.decimals,this.format)};FixedNumber.prototype.subUnsafe=function(other){this._checkFormat(other);var a=parseFixed(this._value,this.format.decimals);other=parseFixed(other._value,other.format.decimals);return FixedNumber.fromValue(a.sub(other),this.format.decimals,this.format)};FixedNumber.prototype.mulUnsafe=function(other){this._checkFormat(other);var a=parseFixed(this._value,this.format.decimals);other=parseFixed(other._value,other.format.decimals);return FixedNumber.fromValue(a.mul(other).div(this.format._multiplier),
this.format.decimals,this.format)};FixedNumber.prototype.divUnsafe=function(other){this._checkFormat(other);var a=parseFixed(this._value,this.format.decimals);other=parseFixed(other._value,other.format.decimals);return FixedNumber.fromValue(a.mul(this.format._multiplier).div(other),this.format.decimals,this.format)};FixedNumber.prototype.floor=function(){var comps=this.toString().split(".");1===comps.length&&comps.push("0");var result=FixedNumber.from(comps[0],this.format);comps=!comps[1].match(/^(0*)$/);
this.isNegative()&&comps&&(result=result.subUnsafe(ONE.toFormat(result.format)));return result};FixedNumber.prototype.ceiling=function(){var comps=this.toString().split(".");1===comps.length&&comps.push("0");var result=FixedNumber.from(comps[0],this.format);comps=!comps[1].match(/^(0*)$/);!this.isNegative()&&comps&&(result=result.addUnsafe(ONE.toFormat(result.format)));return result};FixedNumber.prototype.round=function(decimals){null==decimals&&(decimals=0);var comps=this.toString().split(".");1===
comps.length&&comps.push("0");(0>decimals||80<decimals||decimals%1)&&logger.throwArgumentError("invalid decimal count","decimals",decimals);if(comps[1].length<=decimals)return this;decimals=FixedNumber.from("1"+zeros.substring(0,decimals),this.format);comps=BUMP.toFormat(this.format);return this.mulUnsafe(decimals).addUnsafe(comps).floor().divUnsafe(decimals)};FixedNumber.prototype.isZero=function(){return"0.0"===this._value||"0"===this._value};FixedNumber.prototype.isNegative=function(){return"-"===
this._value[0]};FixedNumber.prototype.toString=function(){return this._value};FixedNumber.prototype.toHexString=function(width){if(null==width)return this._hex;width%8&&logger.throwArgumentError("invalid byte width","width",width);var hex=bignumber_1.BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(width).toHexString();return(0,bytes_1.hexZeroPad)(hex,width/8)};FixedNumber.prototype.toUnsafeFloat=function(){return parseFloat(this.toString())};FixedNumber.prototype.toFormat=function(format){return FixedNumber.fromString(this._value,
format)};FixedNumber.fromValue=function(value,decimals,format){null!=format||null==decimals||(0,bignumber_1.isBigNumberish)(decimals)||(format=decimals,decimals=null);null==decimals&&(decimals=0);null==format&&(format="fixed");return FixedNumber.fromString(formatFixed(value,decimals),FixedFormat.from(format))};FixedNumber.fromString=function(value,format){null==format&&(format="fixed");format=FixedFormat.from(format);var numeric=parseFixed(value,format.decimals);!format.signed&&numeric.lt(Zero)&&
throwFault("unsigned value cannot be negative","overflow","value",value);format.signed?value=numeric.toTwos(format.width).toHexString():(value=numeric.toHexString(),value=(0,bytes_1.hexZeroPad)(value,format.width/8));numeric=formatFixed(numeric,format.decimals);return new FixedNumber(_constructorGuard,value,numeric,format)};FixedNumber.fromBytes=function(value,format){null==format&&(format="fixed");format=FixedFormat.from(format);if((0,bytes_1.arrayify)(value).length>format.width/8)throw Error("overflow");
var numeric=bignumber_1.BigNumber.from(value);format.signed&&(numeric=numeric.fromTwos(format.width));value=numeric.toTwos((format.signed?0:1)+format.width).toHexString();numeric=formatFixed(numeric,format.decimals);return new FixedNumber(_constructorGuard,value,numeric,format)};FixedNumber.from=function(value,format){if("string"===typeof value)return FixedNumber.fromString(value,format);if((0,bytes_1.isBytes)(value))return FixedNumber.fromBytes(value,format);try{return FixedNumber.fromValue(value,
0,format)}catch(error){if(error.code!==logger_1.Logger.errors.INVALID_ARGUMENT)throw error;}return logger.throwArgumentError("invalid FixedNumber value","value",value)};FixedNumber.isFixedNumber=function(value){return!(!value||!value._isFixedNumber)};return FixedNumber}();exports.FixedNumber=require;var ONE=require.from(1),BUMP=require.from("0.5")}
//# sourceMappingURL=module$node_modules$$ethersproject$bignumber$lib$fixednumber.js.map
