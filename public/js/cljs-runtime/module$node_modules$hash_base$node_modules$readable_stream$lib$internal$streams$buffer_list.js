shadow$provide.module$node_modules$hash_base$node_modules$readable_stream$lib$internal$streams$buffer_list=function(global,require,module,exports){function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<
arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){var value=source[key];key in target?Object.defineProperty(target,key,{value,enumerable:!0,configurable:!0,writable:!0}):target[key]=value}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}var Buffer=require("module$node_modules$buffer$index").Buffer,
inspect=require("shadow$empty").inspect,custom=inspect&&inspect.custom||"inspect";module.exports=function(){function BufferList(){if(!(this instanceof BufferList))throw new TypeError("Cannot call a class as a function");this.tail=this.head=null;this.length=0}_createClass(BufferList,[{key:"push",value:function(v){v={data:v,next:null};0<this.length?this.tail.next=v:this.head=v;this.tail=v;++this.length}},{key:"unshift",value:function(v){v={data:v,next:this.head};0===this.length&&(this.tail=v);this.head=
v;++this.length}},{key:"shift",value:function(){if(0!==this.length){var ret=this.head.data;this.head=1===this.length?this.tail=null:this.head.next;--this.length;return ret}}},{key:"clear",value:function(){this.head=this.tail=null;this.length=0}},{key:"join",value:function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret}},{key:"concat",value:function(n){if(0===this.length)return Buffer.alloc(0);n=Buffer.allocUnsafe(n>>>0);for(var p=this.head,i=0;p;)Buffer.prototype.copy.call(p.data,
n,i),i+=p.data.length,p=p.next;return n}},{key:"consume",value:function(n,hasStrings){n<this.head.data.length?(hasStrings=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):hasStrings=n===this.head.data.length?this.shift():hasStrings?this._getString(n):this._getBuffer(n);return hasStrings}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(n){var p=this.head,c=1,ret=p.data;for(n-=ret.length;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;
ret=nb===str.length?ret+str:ret+str.slice(0,n);n-=nb;if(0===n){nb===str.length?(++c,this.head=p.next?p.next:this.tail=null):(this.head=p,p.data=str.slice(nb));break}++c}this.length-=c;return ret}},{key:"_getBuffer",value:function(n){var ret=Buffer.allocUnsafe(n),p=this.head,c=1;p.data.copy(ret);for(n-=p.data.length;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;buf.copy(ret,ret.length-n,0,nb);n-=nb;if(0===n){nb===buf.length?(++c,this.head=p.next?p.next:this.tail=null):(this.head=p,p.data=
buf.slice(nb));break}++c}this.length-=c;return ret}},{key:custom,value:function(_,options){return inspect(this,_objectSpread({},options,{depth:0,customInspect:!1}))}}]);return BufferList}()}
//# sourceMappingURL=module$node_modules$hash_base$node_modules$readable_stream$lib$internal$streams$buffer_list.js.map
