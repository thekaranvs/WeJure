shadow$provide.module$node_modules$$ethersproject$strings$lib$utf8=function(global,require,module,exports){function ignoreFunc(reason,offset,bytes,output,badCodepoint){if(reason===Utf8ErrorReason.BAD_PREFIX||reason===Utf8ErrorReason.UNEXPECTED_CONTINUE){reason=0;for(offset+=1;offset<bytes.length&&2===bytes[offset]>>6;offset++)reason++;return reason}return reason===Utf8ErrorReason.OVERRUN?bytes.length-offset-1:0}function getUtf8CodePoints(bytes,onError){null==onError&&(onError=exports.Utf8ErrorFuncs.error);
bytes=(0,bytes_1.arrayify)(bytes);for(var result=[],i=0;i<bytes.length;){var c=bytes[i++];if(0===c>>7)result.push(c);else{if(192===(c&224)){var extraLength=1;var overlongMask=127}else if(224===(c&240))extraLength=2,overlongMask=2047;else if(240===(c&248))extraLength=3,overlongMask=65535;else{i=128===(c&192)?i+onError(Utf8ErrorReason.UNEXPECTED_CONTINUE,i-1,bytes,result):i+onError(Utf8ErrorReason.BAD_PREFIX,i-1,bytes,result);continue}if(i-1+extraLength>=bytes.length)i+=onError(Utf8ErrorReason.OVERRUN,
i-1,bytes,result);else{c&=(1<<8-extraLength-1)-1;for(var j=0;j<extraLength;j++){var nextChar=bytes[i];if(128!=(nextChar&192)){i+=onError(Utf8ErrorReason.MISSING_CONTINUE,i,bytes,result);c=null;break}c=c<<6|nextChar&63;i++}null!==c&&(1114111<c?i+=onError(Utf8ErrorReason.OUT_OF_RANGE,i-1-extraLength,bytes,result,c):55296<=c&&57343>=c?i+=onError(Utf8ErrorReason.UTF16_SURROGATE,i-1-extraLength,bytes,result,c):c<=overlongMask?i+=onError(Utf8ErrorReason.OVERLONG,i-1-extraLength,bytes,result,c):result.push(c))}}}return result}
function toUtf8Bytes(str,form){void 0===form&&(form=UnicodeNormalizationForm.current);form!=UnicodeNormalizationForm.current&&(logger.checkNormalize(),str=str.normalize(form));form=[];for(var i=0;i<str.length;i++){var c=str.charCodeAt(i);if(128>c)form.push(c);else if(2048>c)form.push(c>>6|192),form.push(c&63|128);else if(55296==(c&64512)){i++;var c2=str.charCodeAt(i);if(i>=str.length||56320!==(c2&64512))throw Error("invalid utf-8 string");c=65536+((c&1023)<<10)+(c2&1023);form.push(c>>18|240);form.push(c>>
12&63|128);form.push(c>>6&63|128);form.push(c&63|128)}else form.push(c>>12|224),form.push(c>>6&63|128),form.push(c&63|128)}return(0,bytes_1.arrayify)(form)}function escapeChar(value){value="0000"+value.toString(16);return"\\u"+value.substring(value.length-4)}function _toUtf8String(codePoints){return codePoints.map(function(codePoint){if(65535>=codePoint)return String.fromCharCode(codePoint);codePoint-=65536;return String.fromCharCode((codePoint>>10&1023)+55296,(codePoint&1023)+56320)}).join("")}Object.defineProperty(exports,
"__esModule",{value:!0});exports.toUtf8CodePoints=exports.toUtf8String=exports._toUtf8String=exports._toEscapedUtf8String=exports.toUtf8Bytes=exports.Utf8ErrorFuncs=exports.Utf8ErrorReason=exports.UnicodeNormalizationForm=void 0;var bytes_1=require("module$node_modules$$ethersproject$bytes$lib$index");global=require("module$node_modules$$ethersproject$logger$lib$index");require=require("module$node_modules$$ethersproject$strings$lib$_version");var logger=new global.Logger(require.version),UnicodeNormalizationForm;
(function(UnicodeNormalizationForm){UnicodeNormalizationForm.current="";UnicodeNormalizationForm.NFC="NFC";UnicodeNormalizationForm.NFD="NFD";UnicodeNormalizationForm.NFKC="NFKC";UnicodeNormalizationForm.NFKD="NFKD"})(UnicodeNormalizationForm=exports.UnicodeNormalizationForm||(exports.UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(Utf8ErrorReason){Utf8ErrorReason.UNEXPECTED_CONTINUE="unexpected continuation byte";Utf8ErrorReason.BAD_PREFIX="bad codepoint prefix";Utf8ErrorReason.OVERRUN=
"string overrun";Utf8ErrorReason.MISSING_CONTINUE="missing continuation byte";Utf8ErrorReason.OUT_OF_RANGE="out of UTF-8 range";Utf8ErrorReason.UTF16_SURROGATE="UTF-16 surrogate";Utf8ErrorReason.OVERLONG="overlong representation"})(Utf8ErrorReason=exports.Utf8ErrorReason||(exports.Utf8ErrorReason={}));exports.Utf8ErrorFuncs=Object.freeze({error:function(reason,offset,bytes,output,badCodepoint){return logger.throwArgumentError("invalid codepoint at offset "+offset+"; "+reason,"bytes",bytes)},ignore:ignoreFunc,
replace:function(reason,offset,bytes,output,badCodepoint){if(reason===Utf8ErrorReason.OVERLONG)return output.push(badCodepoint),0;output.push(65533);return ignoreFunc(reason,offset,bytes,output,badCodepoint)}});exports.toUtf8Bytes=toUtf8Bytes;exports._toEscapedUtf8String=function(bytes,onError){return'"'+getUtf8CodePoints(bytes,onError).map(function(codePoint){if(256>codePoint){switch(codePoint){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(32<=
codePoint&&127>codePoint)return String.fromCharCode(codePoint)}if(65535>=codePoint)return escapeChar(codePoint);codePoint-=65536;return escapeChar((codePoint>>10&1023)+55296)+escapeChar((codePoint&1023)+56320)}).join("")+'"'};exports._toUtf8String=_toUtf8String;exports.toUtf8String=function(bytes,onError){return _toUtf8String(getUtf8CodePoints(bytes,onError))};exports.toUtf8CodePoints=function(str,form){void 0===form&&(form=UnicodeNormalizationForm.current);return getUtf8CodePoints(toUtf8Bytes(str,
form))}}
//# sourceMappingURL=module$node_modules$$ethersproject$strings$lib$utf8.js.map
