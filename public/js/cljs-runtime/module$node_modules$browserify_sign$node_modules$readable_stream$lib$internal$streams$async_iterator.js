shadow$provide.module$node_modules$browserify_sign$node_modules$readable_stream$lib$internal$streams$async_iterator=function(global,require,module,exports){function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value;return obj}function createIterResult(value,done){return{value,done}}function readAndResolve(iter){var resolve=iter[kLastResolve];if(null!==resolve){var data=iter[kStream].read();null!==data&&(iter[kLastPromise]=
null,iter[kLastResolve]=null,iter[kLastReject]=null,resolve(createIterResult(data,!1)))}}function onReadable(iter){process.nextTick(readAndResolve,iter)}function wrapForNext(lastPromise,iter){return function(resolve,reject){lastPromise.then(function(){if(iter[kEnded])resolve(createIterResult(void 0,!0));else iter[kHandlePromise](resolve,reject)},reject)}}var process=require("module$node_modules$process$browser");"use strict";var _Object$setPrototypeO,finished=require("module$node_modules$browserify_sign$node_modules$readable_stream$lib$internal$streams$end_of_stream"),
kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream");global=Object.getPrototypeOf(function(){});var ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_Object$setPrototypeO={get stream(){return this[kStream]},next:function(){var _this=this,error=this[kError];if(null!==error)return Promise.reject(error);if(this[kEnded])return Promise.resolve(createIterResult(void 0,
!0));if(this[kStream].destroyed)return new Promise(function(resolve,reject){process.nextTick(function(){_this[kError]?reject(_this[kError]):resolve(createIterResult(void 0,!0))})});if(error=this[kLastPromise])error=new Promise(wrapForNext(error,this));else{error=this[kStream].read();if(null!==error)return Promise.resolve(createIterResult(error,!1));error=new Promise(this[kHandlePromise])}return this[kLastPromise]=error}},_defineProperty(_Object$setPrototypeO,Symbol.asyncIterator,function(){return this}),
_defineProperty(_Object$setPrototypeO,"return",function(){var _this2=this;return new Promise(function(resolve,reject){_this2[kStream].destroy(null,function(err){err?reject(err):resolve(createIterResult(void 0,!0))})})}),_Object$setPrototypeO),global);module.exports=function(stream){var _Object$create,iterator=Object.create(ReadableStreamAsyncIteratorPrototype,(_Object$create={},_defineProperty(_Object$create,kStream,{value:stream,writable:!0}),_defineProperty(_Object$create,kLastResolve,{value:null,
writable:!0}),_defineProperty(_Object$create,kLastReject,{value:null,writable:!0}),_defineProperty(_Object$create,kError,{value:null,writable:!0}),_defineProperty(_Object$create,kEnded,{value:stream._readableState.endEmitted,writable:!0}),_defineProperty(_Object$create,kHandlePromise,{value:function(resolve,reject){var data=iterator[kStream].read();data?(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,resolve(createIterResult(data,!1))):(iterator[kLastResolve]=resolve,
iterator[kLastReject]=reject)},writable:!0}),_Object$create));iterator[kLastPromise]=null;finished(stream,function(err){if(err&&"ERR_STREAM_PREMATURE_CLOSE"!==err.code){var reject=iterator[kLastReject];null!==reject&&(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,reject(err));iterator[kError]=err}else err=iterator[kLastResolve],null!==err&&(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,err(createIterResult(void 0,!0))),iterator[kEnded]=
!0});stream.on("readable",onReadable.bind(null,iterator));return iterator}}
//# sourceMappingURL=module$node_modules$browserify_sign$node_modules$readable_stream$lib$internal$streams$async_iterator.js.map
