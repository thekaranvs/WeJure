shadow$provide.module$node_modules$web3_providers_http$lib$index=function(global,require,module,exports){var errors=require("module$node_modules$web3_core_helpers$lib$index").errors,XHR2=require("module$node_modules$xhr2_cookies$dist$index").XMLHttpRequest,http=require("module$node_modules$stream_http$index"),https=require("module$node_modules$https_browserify$index");global=function(host,options){options=options||{};this.withCredentials=options.withCredentials||!1;this.timeout=options.timeout||0;
this.headers=options.headers;this.agent=options.agent;this.connected=!1;options=!1!==options.keepAlive;this.host=host||"http://localhost:8545";this.agent||("https"===this.host.substring(0,5)?this.httpsAgent=new https.Agent({keepAlive:options}):this.httpAgent=new http.Agent({keepAlive:options}))};global.prototype._prepareRequest=function(){if("undefined"!==typeof XMLHttpRequest)var request=new XMLHttpRequest;else{request=new XHR2;var agents={httpsAgent:this.httpsAgent,httpAgent:this.httpAgent,baseUrl:this.baseUrl};
this.agent&&(agents.httpsAgent=this.agent.https,agents.httpAgent=this.agent.http,agents.baseUrl=this.agent.baseUrl);request.nodejsSet(agents)}request.open("POST",this.host,!0);request.setRequestHeader("Content-Type","application/json");request.timeout=this.timeout;request.withCredentials=this.withCredentials;this.headers&&this.headers.forEach(function(header){request.setRequestHeader(header.name,header.value)});return request};global.prototype.send=function(payload,callback){var _this=this,request=
this._prepareRequest();request.onreadystatechange=function(){if(4===request.readyState&&1!==request.timeout){var result=request.responseText,error=null;try{result=JSON.parse(result)}catch(e){error=errors.InvalidResponse(request.responseText)}_this.connected=!0;callback(error,result)}};request.ontimeout=function(){_this.connected=!1;callback(errors.ConnectionTimeout(this.timeout))};try{request.send(JSON.stringify(payload))}catch(error){this.connected=!1,callback(errors.InvalidConnection(this.host))}};
global.prototype.disconnect=function(){};global.prototype.supportsSubscriptions=function(){return!1};module.exports=global}
//# sourceMappingURL=module$node_modules$web3_providers_http$lib$index.js.map
